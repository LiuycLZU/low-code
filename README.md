# low-code

使用了vite+vue3+mittjs+pinia

要求node>12.0.0

mittjs 类似事件总线

pinia 类似vuex

#### 1.数据存储格式

页面中组件存储是以json格式来存储信息

#### 2.运行中主要使用pinia进行存储，然后pinia中数据改变页面与其一起改变

#### 3.简单的框架有三种组件，

组件栏组件：控制初始拖动的样式，及可以给不同的组件加上其自定义的属性，之后需要自己绑定属性。

画布组件：控制画布中样式，如何控制，将样式绑定到组件上；

展示组件：控制一下展示组件，及自定义样式

#### 4.操作流程：

用户拖动组件至画布 ---  画布中自己拖动或者通过属性来改变样式至自己觉得可以的样式 --- 保存  ---预览  --- 下载

#### 5.操作逻辑

第一步，拖动组件的js，已抽离封装，组件需要使用引入即可。

第二步，拖动组件的js，已抽离封装，引入即可；属性栏改变，用函数接受，无需改变。

第三步，保存至本地缓存。

第四步，预览，通过对每个组件的长宽和top，left，z-index等来进行计算，对json进行操作，使其可以生成合理一点的界面，然后通过循环组件生成预览界面。(为完全完成)

第五步，通过后端生成代码，提供下载链接，让用户下载。（为未完成）

6.添加新组件

添加 组件栏组件，需要加入第一次拖动的样式，及组件可能需要的属性，及其组件类型。

添加 画布组件，使用 组件栏组件 编写的属性进行动态绑定。

添加 展示组件，使用 组件栏组件 编写的属性进行动态绑定。

新组件的个性化。

#### 7.缺点及还需要做的

页面设计不是太合理，例如组件栏，每一种组件以按钮样式等待拖动，不美观；属性操作栏，不美观。

缩放不是操作的太舒服，缩放的滚动条不美观。

功能只实现了一部分，加入的组件较少。

文件命名丑陋

#### 8.改进点

a.加入更多组件

b.修改页面样式，让其更合理

c.加入个性化组件操作，及将写好的组件可以封装成一个大的组件

d.加入更多的事件

e.对不同的场景加入其处理方案，及类似表单，表格，虚拟列表之类

h.加入组件层和页面层展示及操作方法。

i.完善下载功能

m.加入后端，可以把用户的操作存入数据库，用户可存储工程至数据库。